#### GENERAR CERTIFICADO CA ####
Create a private key and then generate a certificate request from it:
	openssl genrsa -out key.pem 2048
	openssl req -new -key key.pem -out careq.pem
		--The same but just using req
		    openssl req -newkey rsa:2048 -keyout key.pem -out req.pem

Convert a certificate request into a self signed certificate using extensions for a CA:
	openssl x509 -req -in careq.pem -extfile openssl.cnf -extensions v3_ca -signkey key.pem -out cacert.pem

#### En una línea ####
Generate a self signed root certificate:
	openssl req -x509 -newkey rsa:2048 -keyout key.pem -out req.pem

#### GENERAR CERTIFICADO FIRMADO POR CA ####
Create a private key and then generate a certificate request from it
	openssl genrsa -out key.pem 2048
	openssl req -new -key key.pem -out req.pem
Sign a certificate request using the CA certificate above and add user certificate extensions:
	openssl x509 -req -in req.pem -extensions v3_usr -CA cacert.pem -CAkey key.pem -CAcreateserial -out reqcert.pem


### OBTENER INFORMACIÓN DEL CERTIFICADO ####
openssl x509 -in cacert.pem -noout -text

################
Sample configuration containing all field values:

 RANDFILE               = $ENV::HOME/.rnd

 [ req ]
 default_bits           = 2048
 default_keyfile        = keyfile.pem
 distinguished_name     = req_distinguished_name
 attributes             = req_attributes
 prompt                 = no
 output_password        = mypass

 [ req_distinguished_name ]
 C                      = ES
 ST                     = Test State or Province
 L                      = Test Locality
 O                      = Organization Name
 OU                     = Organizational Unit Name
 CN                     = Common Name
 emailAddress           = test@email.address


 [ req_attributes ]
 challengePassword              = A challenge password

# Crear certificado root de CA
# generar request de certificado
# firmar certificado con el certificado de la CA
# Exportar certificado a pkcs12 con las claves
# Verificar el certificado
openssl req -x509 -newkey rsa:2048 -keyout cakey.pem -out careq.pem
openssl req -newkey rsa:2048 -keyout reqkey.pem -out req.pem
openssl x509 -req -in req.pem -extensions v3_usr -CA cacert.pem -CAkey cakey.pem -CAcreateserial -out reqcert.pem
openssl pkcs12 -export -in reqcert.pem -inkey reqkey.pem -out reqcert.p12 -name "Certificado votante"
openssl verify -CAfile cacert.pem reqcert.pem
